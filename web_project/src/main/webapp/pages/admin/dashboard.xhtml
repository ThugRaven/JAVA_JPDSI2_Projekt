<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/page-template.xhtml">
	<ui:define name="pageContent">
		<p:panel>
			<h:outputText
				value="Zalogowany: #{remoteClient.details.login} #{remoteClient.details.name}" />
			<h:form>
				<p:commandLink action="/pages/public/register?faces-redirect=true"
					value="Zarejestruj się" />
				<p:commandLink action="/pages/public/login?faces-redirect=true"
					value="Zaloguj się" />
				<p:commandButton action="#{loginBB.doLogout()}" value="Wyloguj się" />
				<p:commandLink action="/pages/admin/cars?faces-redirect=true"
					value="Pojazdy" />
				<p:commandLink action="/pages/admin/users?faces-redirect=true"
					value="Użytkownicy" />
				<p:commandLink action="/pages/admin/equipment?faces-redirect=true"
					value="Wyposażenie" />
			</h:form>
		</p:panel>

		<p:panel>
			<p:dataTable value="#{userListBB.getFullList()}" var="u">

				<p:column>
					<f:facet name="header">
						<h:outputText value="Login" />
					</f:facet>
					<h:outputText value="#{u.login}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Name" />
					</f:facet>
					<h:outputText value="#{u.name}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Surname" />
					</f:facet>
					<h:outputText value="#{u.surname}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Role" />
					</f:facet>
					<h:outputText value="#{u.userRole.roleName}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Create time" />
					</f:facet>
					<h:outputText value="#{u.createTime}">
						<f:convertDateTime pattern="dd-MM-yyyy" />
					</h:outputText>
				</p:column>

			</p:dataTable>
		</p:panel>

		<p:panel>
			<p:dataTable value="#{offerListBB.getFullList()}" var="o">

				<p:column>
					<f:facet name="header">
						<h:outputText value="ID" />
					</f:facet>
					<h:outputText value="#{o.idOffer}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Brand" />
					</f:facet>
					<h:outputText value="#{o.brand}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Model" />
					</f:facet>
					<h:outputText value="#{o.model}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Generation" />
					</f:facet>
					<h:outputText value="#{o.generation}" />
				</p:column>

			</p:dataTable>
		</p:panel>

		<p:panel>
			<p:dataTable value="#{generationListBB.getFullList()}" var="g">

				<p:column>
					<f:facet name="header">
						<h:outputText value="Generation" />
					</f:facet>
					<h:outputText value="#{g.name}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Model" />
					</f:facet>
					<h:outputText value="#{g.model.name}" />
				</p:column>

				<p:column>
					<f:facet name="header">
						<h:outputText value="Brand" />
					</f:facet>
					<h:outputText value="#{g.model.brand.name}" />
				</p:column>

			</p:dataTable>
		</p:panel>
	</ui:define>
</ui:composition>
</html>